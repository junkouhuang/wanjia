/*  ---HARNESS start--- */
var dc=new Array();
dc[0]={url:"img/product/harness/dc/dc1.jpg",name:"DC线"}
dc[1]={url:"img/product/harness/dc/dc2.jpg",name:"DC线"}
dc[2]={url:"img/product/harness/dc/dc3.jpg",name:"DC线"}
dc[3]={url:"img/product/harness/dc/dc4.jpg",name:"DC线"}
dc[4]={url:"img/product/harness/dc/dc5.jpg",name:"DC线"}
dc[5]={url:"img/product/harness/dc/dc6.jpg",name:"DC线"}
dc[6]={url:"img/product/harness/dc/dc7.jpg",name:"DC线"}
dc[7]={url:"img/product/harness/dc/dc8.jpg",name:"DC线"}
var insurance=new Array();
insurance[0]={url:"img/product/harness/insurance/insurance1.jpg",name:"保险盒"}
insurance[1]={url:"img/product/harness/insurance/insurance2.jpg",name:"保险盒"}
insurance[2]={url:"img/product/harness/insurance/insurance3.jpg",name:"保险盒"}
insurance[3]={url:"img/product/harness/insurance/insurance4.jpg",name:"保险盒"}
var lampline=new Array();
lampline[0]={url:"img/product/harness/lampline/lampline1.png",name:"灯线"}
lampline[1]={url:"img/product/harness/lampline/lampline2.jpg",name:"灯线"}
lampline[2]={url:"img/product/harness/lampline/lampline3.jpg",name:"灯线"}
lampline[3]={url:"img/product/harness/lampline/lampline4.jpg",name:"灯线"}
var terminalline=new Array();
terminalline[0]={url:"img/product/harness/terminalline/terminalline1.png",name:"端子连接线"}
terminalline[1]={url:"img/product/harness/terminalline/terminalline2.jpg",name:"端子连接线"}
terminalline[2]={url:"img/product/harness/terminalline/terminalline4.jpg",name:"端子连接线"}
terminalline[3]={url:"img/product/harness/terminalline/terminalline5.jpg",name:"端子连接线"}
terminalline[4]={url:"img/product/harness/terminalline/terminalline4.jpg",name:"端子连接线"}
terminalline[5]={url:"img/product/harness/terminalline/terminalline5.jpg",name:"端子连接线"}
terminalline[6]={url:"img/product/harness/terminalline/terminalline6.jpg",name:"端子连接线"}
terminalline[7]={url:"img/product/harness/terminalline/terminalline7.jpg",name:"端子连接线"}
terminalline[8]={url:"img/product/harness/terminalline/terminalline8.jpg",name:"端子连接线"}
terminalline[9]={url:"img/product/harness/terminalline/terminalline9.jpg",name:"端子连接线"}
terminalline[10]={url:"img/product/harness/terminalline/terminalline10.jpg",name:"端子连接线"}
terminalline[11]={url:"img/product/harness/terminalline/terminalline11.jpg",name:"端子连接线"}
terminalline[12]={url:"img/product/harness/terminalline/terminalline12.jpg",name:"端子连接线"}
var gold=new Array();
gold[0]={url:"img/product/harness/gold/gold1.jpg",name:"金针线"}
gold[1]={url:"img/product/harness/gold/gold2.jpg",name:"金针线"}
gold[2]={url:"img/product/harness/gold/gold3.jpg",name:"金针线"}
gold[3]={url:"img/product/harness/gold/gold4.jpg",name:"金针线"}
var jinei=new Array();
jinei[0]={url:"img/product/harness/jinei/jinei1.jpg",name:"机内线"}
jinei[1]={url:"img/product/harness/jinei/jinei2.jpg",name:"机内线"}
jinei[2]={url:"img/product/harness/jinei/jinei3.jpg",name:"机内线"}
jinei[3]={url:"img/product/harness/jinei/jinei4.gif",name:"机内线"}
var harness=new Array();
harness[0]=dc;
harness[1]=insurance;
harness[2]=lampline;
harness[3]=terminalline;
harness[4]=gold;
harness[5]=jinei;
/*  ---HARNESS end--- */



/*  ---汽车插线 start--- */
var qichechaxian=new Array();
qichechaxian[0]={url:"img/product/checha/qichechaxian/qichechaxian1.jpg",name:"汽车插线"}
qichechaxian[1]={url:"img/product/checha/qichechaxian/qichechaxian2.jpg",name:"汽车插线"}
qichechaxian[2]={url:"img/product/checha/qichechaxian/qichechaxian3.jpg",name:"汽车插线"}
qichechaxian[3]={url:"img/product/checha/qichechaxian/qichechaxian4.jpg",name:"汽车插线"}
qichechaxian[4]={url:"img/product/checha/qichechaxian/qichechaxian5.jpg",name:"汽车插线"}
qichechaxian[5]={url:"img/product/checha/qichechaxian/qichechaxian4.jpg",name:"汽车插线"}
qichechaxian[6]={url:"img/product/checha/qichechaxian/qichechaxian5.jpg",name:"汽车插线"}
var checha=new Array();
checha[0]=qichechaxian;
/*  ---汽车插线 end--- */



/*  ---数据线 start--- */
var dp=new Array();
dp[0]={url:"img/product/dataline/dp/dp1.jpg",name:"DP"}
dp[1]={url:"img/product/dataline/dp/dp2.jpg",name:"DP"}
dp[2]={url:"img/product/dataline/dp/dp3.jpg",name:"DP"}
dp[3]={url:"img/product/dataline/dp/dp4.jpg",name:"DP"}
dp[4]={url:"img/product/dataline/dp/dp5.jpg",name:"DP"}
dp[5]={url:"img/product/dataline/dp/dp6.jpg",name:"DP"}
dp[6]={url:"img/product/dataline/dp/dp7.jpg",name:"DP"}
dp[7]={url:"img/product/dataline/dp/dp8.jpg",name:"DP"}
dp[8]={url:"img/product/dataline/dp/dp9.jpg",name:"DP"}
dp[9]={url:"img/product/dataline/dp/dp10.jpg",name:"DP"}
dp[10]={url:"img/product/dataline/dp/dp11.jpg",name:"DP"}
var hdmi=new Array();
hdmi[0]={url:"img/product/dataline/hdmi/HDMI1.jpg",name:"HDMI"}
hdmi[1]={url:"img/product/dataline/hdmi/HDMI2.jpg",name:"HDMI"}
hdmi[2]={url:"img/product/dataline/hdmi/HDMI3.jpg",name:"HDMI"}
hdmi[3]={url:"img/product/dataline/hdmi/HDMI4.jpg",name:"HDMI"}
hdmi[4]={url:"img/product/dataline/hdmi/HDMI5.jpg",name:"HDMI"}
hdmi[5]={url:"img/product/dataline/hdmi/HDMI6.jpg",name:"HDMI"}
hdmi[6]={url:"img/product/dataline/hdmi/HDMI7.jpg",name:"HDMI"}
hdmi[7]={url:"img/product/dataline/hdmi/HDMI8.jpg",name:"HDMI"}
hdmi[8]={url:"img/product/dataline/hdmi/HDMI9.jpg",name:"HDMI"}
hdmi[9]={url:"img/product/dataline/hdmi/HDMI10.jpg",name:"HDMI"}
hdmi[10]={url:"img/product/dataline/hdmi/HDMI11.jpg",name:"HDMI"}
hdmi[11]={url:"img/product/dataline/hdmi/HDMI12.jpg",name:"HDMI"}
var typec=new Array();
typec[0]={url:"img/product/dataline/TYPE-C/TYPE-C1.jpg",name:"TYPE-C"}
typec[1]={url:"img/product/dataline/TYPE-C/TYPE-C2.jpg",name:"TYPE-C"}
typec[2]={url:"img/product/dataline/TYPE-C/TYPE-C3.jpg",name:"TYPE-C"}
typec[3]={url:"img/product/dataline/TYPE-C/TYPE-C4.jpg",name:"TYPE-C"}
typec[4]={url:"img/product/dataline/TYPE-C/TYPE-C5.jpg",name:"TYPE-C"}
typec[5]={url:"img/product/dataline/TYPE-C/TYPE-C6.jpg",name:"TYPE-C"}
typec[6]={url:"img/product/dataline/TYPE-C/TYPE-C7.jpg",name:"TYPE-C"}
typec[7]={url:"img/product/dataline/TYPE-C/TYPE-C8.jpg",name:"TYPE-C"}
var usb2=new Array();
usb2[0]={url:"img/product/dataline/USB2.0/USB2.01.jpeg",name:"usb2"}
usb2[1]={url:"img/product/dataline/USB2.0/USB2.02.jpeg",name:"usb2"}
usb2[2]={url:"img/product/dataline/USB2.0/USB2.02.jpeg",name:"usb2"}
usb2[3]={url:"img/product/dataline/USB2.0/USB2.04.jpg",name:"usb2"}
usb2[4]={url:"img/product/dataline/USB2.0/USB2.05.jpg",name:"usb2"}
usb2[5]={url:"img/product/dataline/USB2.0/USB2.06.jpg",name:"usb2"}
usb2[6]={url:"img/product/dataline/USB2.0/USB2.07.jpg",name:"usb2"}
usb2[7]={url:"img/product/dataline/USB2.0/USB2.08.jpeg",name:"usb2"}
var usb3=new Array();
usb3[0]={url:"img/product/dataline/USB3.0&USB3.1/USB3.01.jpg",name:"usb3"}
usb3[1]={url:"img/product/dataline/USB3.0&USB3.1/USB3.02.jpg",name:"usb3"}
usb3[2]={url:"img/product/dataline/USB3.0&USB3.1/USB3.03.jpg",name:"usb3"}
usb3[3]={url:"img/product/dataline/USB3.0&USB3.1/USB3.04.jpg",name:"usb3"}
usb3[4]={url:"img/product/dataline/USB3.0&USB3.1/USB3.05.jpg",name:"usb3"}
usb3[5]={url:"img/product/dataline/USB3.0&USB3.1/USB3.06.jpg",name:"usb3"}
usb3[6]={url:"img/product/dataline/USB3.0&USB3.1/USB3.07.png",name:"usb3"}
usb3[7]={url:"img/product/dataline/USB3.0&USB3.1/USB3.08.jpg",name:"usb3"}
var dataline=new Array();
dataline[0]=dp;
dataline[1]=hdmi;
dataline[2]=typec;
dataline[3]=usb2;
dataline[4]=usb3;
/*  ---数据线 end--- */


/*  ---信号线 start--- */
var fangshuichatou=new Array();
fangshuichatou[0]={url:"img/product/xinhao/fangshuichatou/fangshuichatou1.jpg",name:"防水插头线"}
fangshuichatou[1]={url:"img/product/xinhao/fangshuichatou/fangshuichatou2.jpg",name:"防水插头线"}
fangshuichatou[2]={url:"img/product/xinhao/fangshuichatou/fangshuichatou3.jpg",name:"防水插头线"}
fangshuichatou[3]={url:"img/product/xinhao/fangshuichatou/fangshuichatou4.jpg",name:"防水插头线"}
fangshuichatou[4]={url:"img/product/xinhao/fangshuichatou/fangshuichatou5.jpg",name:"防水插头线"}
fangshuichatou[5]={url:"img/product/xinhao/fangshuichatou/fangshuichatou6.jpg",name:"防水插头线"}
var ruanyingpaixian=new Array();
ruanyingpaixian[0]={url:"img/product/xinhao/ruanyingpaixian/ruanyingpaixian1.jpg",name:"软硬排线"}
ruanyingpaixian[1]={url:"img/product/xinhao/ruanyingpaixian/ruanyingpaixian2.jpg",name:"软硬排线"}
ruanyingpaixian[2]={url:"img/product/xinhao/ruanyingpaixian/ruanyingpaixian3.jpg",name:"软硬排线"}
ruanyingpaixian[3]={url:"img/product/xinhao/ruanyingpaixian/ruanyingpaixian4.jpg",name:"软硬排线"}
ruanyingpaixian[4]={url:"img/product/xinhao/ruanyingpaixian/ruanyingpaixian5.jpg",name:"软硬排线"}
ruanyingpaixian[5]={url:"img/product/xinhao/ruanyingpaixian/ruanyingpaixian6.jpg",name:"软硬排线"}
ruanyingpaixian[6]={url:"img/product/xinhao/ruanyingpaixian/ruanyingpaixian7.jpg",name:"软硬排线"}
var wangluoxian=new Array();
wangluoxian[0]={url:"img/product/xinhao/wangluoxian/wangluoxian1.jpg",name:"网络线"}
wangluoxian[1]={url:"img/product/xinhao/wangluoxian/wangluoxian2.png",name:"网络线"}
wangluoxian[2]={url:"img/product/xinhao/wangluoxian/wangluoxian3.jpg",name:"网络线"}
wangluoxian[3]={url:"img/product/xinhao/wangluoxian/wangluoxian4.jpg",name:"网络线"}
wangluoxian[4]={url:"img/product/xinhao/wangluoxian/wangluoxian5.jpg",name:"网络线"}
wangluoxian[5]={url:"img/product/xinhao/wangluoxian/wangluoxian6.jpg",name:"网络线"}
wangluoxian[6]={url:"img/product/xinhao/wangluoxian/wangluoxian7.jpg",name:"网络线"}
wangluoxian[7]={url:"img/product/xinhao/wangluoxian/wangluoxian8.jpg",name:"网络线"}
var xinhaodengxian=new Array();
xinhaodengxian[0]={url:"img/product/xinhao/xinhaodengxian/xinhaodengxian1.jpg",name:"信号灯线"}
xinhaodengxian[1]={url:"img/product/xinhao/xinhaodengxian/xinhaodengxian2.jpg",name:"信号灯线"}
xinhaodengxian[2]={url:"img/product/xinhao/xinhaodengxian/xinhaodengxian3.jpg",name:"信号灯线"}
var yinpinxian=new Array();
yinpinxian[0]={url:"img/product/xinhao/yinpinxian/yinpinxian1.jpg",name:"音频线"}
yinpinxian[1]={url:"img/product/xinhao/yinpinxian/yinpinxian2.jpg",name:"音频线"}
yinpinxian[2]={url:"img/product/xinhao/yinpinxian/yinpinxian3.jpg",name:"音频线"}
yinpinxian[3]={url:"img/product/xinhao/yinpinxian/yinpinxian4.jpg",name:"音频线"}
var xinhao=new Array();
xinhao[0]=fangshuichatou;
xinhao[1]=ruanyingpaixian;
xinhao[2]=wangluoxian;
xinhao[3]=xinhaodengxian;
xinhao[4]=yinpinxian;
/*  ---信号线 end--- */


/*  ---封装数据 start--- */
var storeList=new Array();
storeList[0]=harness;
storeList[1]=checha;
storeList[2]=dataline;
storeList[3]=xinhao;
/*  ---封装数据 end--- */

//数据结构
console.log("----数据结构开始-----")
console.log(storeList);
console.log("----数据结构结束-----");

var mainClassifyIndex=0; //大分类小标
var detailClassifyHtml=""; //小分类文本
var productListHtml=""; //小分类对应的产品列表
var pageHtml=""; //页码文本


$(function(){
	
	detailClassifyHtmlFun(0);//添加小分类
	
	productListHtmlFun(0,0); //添加小分类对应的产品列表
	
	addPage(0,0); //添加分页
	
	
	$("#mainClassify li").click(function(){
		detailClassifyHtml=""
		productListHtml="";
		//把选中状态清除
		$("#mainClassify li").removeClass("active");
		//获取点击元素的下标
		 mainClassifyIndex=$(this).index();
		//将选中状态赋予新选中的元素
		$("#mainClassify li").eq(mainClassifyIndex).addClass("active");
		//动态添加html

		if(mainClassifyIndex==0){
			detailClassifyHtmlFun(0);//添加小分类
			productListHtmlFun(0,0);//添加小分类对应的产品列表
			addPage(0,0);//添加页码
		}else if(mainClassifyIndex==1){
			detailClassifyHtmlFun(1);//添加小分类
			productListHtmlFun(1,0)//添加小分类对应的产品列表
			addPage(0,0);//添加页码
		}else if(mainClassifyIndex==2){
			detailClassifyHtmlFun(2);//添加小分类
			productListHtmlFun(2,0);//添加小分类对应的产品列表
			addPage(0,0);//添加页码
		}else{
			detailClassifyHtmlFun(3);//添加小分类
			productListHtmlFun(3,0);//添加小分类
			addPage(0,0);//添加小分类对应的产品列表
		}
	})
	
})	


/** 产品分类的一些方法start **/
//点击小分类切换到对应的产品列表
function show(dex){
	$("#detailClassify div").removeClass("active");
	$("#detailClassify div").eq(dex).addClass("active");
	if(mainClassifyIndex==0){
		//添加小分类对应的产品列表和页码
		if(dex==0){
			 productListHtmlFun(0,0);
			  addPage(0,0);
		}else if(dex==1){
			 productListHtmlFun(0,1);
			  addPage(0,1);
		}else if(dex==2){
			 productListHtmlFun(0,2);
			  addPage(0,1);
		}else if(dex==3){
			 productListHtmlFun(0,3);
			 addPage(0,3);
		}else if(dex==4){
			 productListHtmlFun(0,4);
			 addPage(0,4);
		}else if(dex==5){
			 productListHtmlFun(0,5);
			 addPage(0,5);
		}
	}else if(mainClassifyIndex==1){
		if(dex==0){
			 productListHtmlFun(1,0);
			 addPage(1,0);
		}
	}else if(mainClassifyIndex==2){
		if(dex==0){
			 productListHtmlFun(2,0);
			 addPage(2,0);
		}else if(dex==1){
			 productListHtmlFun(2,1);
			 addPage(2,1);
		}else if(dex==2){
			 productListHtmlFun(2,2);
			 addPage(2,2);
		}else if(dex==3){
			 productListHtmlFun(2,3);
			 addPage(2,3);
		}else if(dex==4){
			 productListHtmlFun(2,4);
			 addPage(2,4);
		}
	}else if(mainClassifyIndex==3){
		if(dex==0){
			 productListHtmlFun(3,0);
			 addPage(3,0);
		}else if(dex==1){
			 productListHtmlFun(3,1);
			 addPage(3,1);
		}else if(dex==2){
			 productListHtmlFun(3,2);
			 addPage(3,2);
		}else if(dex==3){
			 productListHtmlFun(3,3);
			 addPage(3,3);
		}else if(dex==4){
			 productListHtmlFun(3,4);
			 addPage(3,4);
		}
	}
}

//产品小分类文本
function detailClassifyHtmlFun(first){
	detailClassifyHtml="";//清空
	if(storeList[first].length<=5){
		detailClassifyHtml+='<div class="col-xs-4  col-sm-2 col-sm-offset-1  col-md-2 col-md-offset-1  col-lg-2 col-lg-offset-1  active" onclick="show(0)">'+storeList[first][0][0].name+'</div>';
		for(var i=1;i<storeList[first].length;i++){
				detailClassifyHtml+='<div class="col-xs-4 col-sm-2 col-md-2 col-lg-2 " onclick="show('+i+')">'+storeList[first][i][0].name+'</div>';
		}
	}else{
		detailClassifyHtml+='<div class="col-xs-4  col-sm-2  col-md-2  col-lg-2  active" onclick="show(0)">'+storeList[first][0][0].name+'</div>';
		for(var i=1;i<storeList[first].length;i++){
			detailClassifyHtml+='<div class="col-xs-4 col-sm-2 col-md-2 col-lg-2 " onclick="show('+i+')">'+storeList[first][i][0].name+'</div>';
		}
	}
	$("#detailClassify").html(detailClassifyHtml); 
}

//添加小分类对应产品列表
function productListHtmlFun(first,second){
	productListHtml="";//清空
	//仅一页
	if(storeList[first][second].length<9){
		for(var i=0;i<storeList[first][second].length;i++){
			productListHtml+='<div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 wj-product-col ">'
				productListHtml+='<div style="background: url('+storeList[first][second][i].url+') no-repeat;background-size: cover;" class="react"></div><p>'+storeList[first][second][i].name+'</p>'
			productListHtml+='</div>'
		}
	}else{
		//多页
		for(var i=0;i<8;i++){
			productListHtml+='<div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 wj-product-col ">'
				productListHtml+='<div style="background: url('+storeList[first][second][i].url+') no-repeat;background-size: cover;" class="react"></div><p>'+storeList[first][second][i].name+'</p>'
			productListHtml+='</div>'
		}
	}
	
	$("#productList").html(productListHtml);
}

//添加页码
function addPage(first,second){
	//获取页数
	var num=parseInt(storeList[first][second].length/8)+1;
	console.log(storeList[first][second].length/8);
	pageHtml="";//清空
	pageHtml+="<a class='notCkick prev' onclick='prev("+first+","+second+")'>上一页</a><ul>"
	if(storeList[first][second].length<9){
			pageHtml+="<li onclick='pageClickFun(0)'>1</li>";
			pageHtml+="</ul><a class='notCkick next' onclick='next("+first+","+second+")'>下一页</a>";
	}else{
		for(var j=1;j<=num;j++){
			pageHtml+="<li onclick='pageClickFun("+first+","+second+","+j+")'>"+j+"</li>";
		}
		pageHtml+="</ul><a class='next' onclick='next("+first+","+second+")'>下一页</a>";
	}
	$("#page").html(pageHtml);
	$("#page li").eq(0).addClass("active");
}


var indexPage=1;
//页码事件
function pageClickFun(first,second,index){
	indexPage=index;
	var num=parseInt(storeList[first][second].length/8)+1;//获取页数
	var len=storeList[first][second].length;//获取产品 数量
	var startIndex=(index-1)*8;//获取当前起始下标
	var endIndex=0;//获取当前的结束下标
	if(num!=index){//如果不是最后一页
		endIndex=startIndex+8;//获取当前的结束下标
	}else{//最后一页
		endIndex=len-1;//获取当前的结束下标
	}
	productListHtml="";//清空
	for(var i=startIndex;i<endIndex;i++){
		productListHtml+='<div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 wj-product-col ">'
			productListHtml+='<div style="background: url('+storeList[first][second][i].url+') no-repeat;background-size: cover;" class="react"></div><p>'+storeList[first][second][i].name+'</p>'
		productListHtml+='</div>'
	}
	$("#productList").html(productListHtml);
	//改变当前页码的状态为选中
	$("#page li").removeClass("active");
	$("#page li").eq(index-1).addClass("active");
	if(num==index){
		$("#page a").removeClass("notCkick");
		$("#page .next").addClass("notCkick");
	}
	if(index==1){
		$("#page a").removeClass("notCkick");
		$("#page .prev").addClass("notCkick");
	}
}

//上一页
function prev(first,second){
	indexPage=indexPage-1;
	if(indexPage>=1){
		var num=parseInt(storeList[first][second].length/8)+1;//获取页数
		var len=storeList[first][second].length;//获取产品 数量
		var startIndex=(indexPage-1)*8;//获取当前起始下标
		var endIndex=0;//获取当前的结束下标
		if(num!=indexPage){//如果不是最后一页
			endIndex=startIndex+8;//获取当前的结束下标
		}else{//最后一页
			endIndex=len-1;//获取当前的结束下标
		}
		productListHtml="";//清空
		for(var i=startIndex;i<endIndex;i++){
			productListHtml+='<div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 wj-product-col ">'
				productListHtml+='<div style="background: url('+storeList[first][second][i].url+') no-repeat;background-size: cover;" class="react"></div><p>'+storeList[first][second][i].name+'</p>'
			productListHtml+='</div>'
		}
		$("#productList").html(productListHtml);
		//改变当前页码的状态为选中
		$("#page li").removeClass("active");
		$("#page li").eq(indexPage-1).addClass("active");
		if(num==indexPage){
			$("#page a").removeClass("notCkick");
			$("#page .next").addClass("notCkick");
		}
		if(indexPage==1){
			$("#page a").removeClass("notCkick");
			$("#page .prev").addClass("notCkick");
		}
	}
}
//下一页
function next(first,second){
	indexPage=indexPage+1;
	var num=parseInt(storeList[first][second].length/8)+1;//获取页数
	if(indexPage<=num){
		var len=storeList[first][second].length;//获取产品 数量
		var startIndex=(indexPage-1)*8;//获取当前起始下标
		var endIndex=0;//获取当前的结束下标
		if(num!=indexPage){//如果不是最后一页
			endIndex=startIndex+8;//获取当前的结束下标
		}else{//最后一页
			endIndex=len-1;//获取当前的结束下标
		}
		productListHtml="";//清空
		for(var i=startIndex;i<endIndex;i++){
			productListHtml+='<div class="col-xs-6 col-sm-3 col-md-3 col-lg-3 wj-product-col ">'
				productListHtml+='<div style="background: url('+storeList[first][second][i].url+') no-repeat;background-size: cover;" class="react"></div><p>'+storeList[first][second][i].name+'</p>'
			productListHtml+='</div>'
		}
		$("#productList").html(productListHtml);
		//改变当前页码的状态为选中
		$("#page li").removeClass("active");
		$("#page li").eq(indexPage-1).addClass("active");
		if(num==indexPage){
			$("#page a").removeClass("notCkick");
			$("#page .next").addClass("notCkick");
		}
		if(indexPage==1){
			$("#page a").removeClass("notCkick");
			$("#page .prev").addClass("notCkick");
		}
	}
}
/** 产品分类的一些方法end **/



$(function(){
	//置顶
  $("#zhiding").click(function(){
		
        var ua = navigator.userAgent.toLocaleLowerCase();
        var browserType=null;
        var is360 = _mime("type", "application/vnd.chromium.remoting-viewer");
            
            if (isChrome() && is360) { 
                scrollToptimer = setInterval(function () {
				    var top = document.body.scrollTop || document.documentElement.scrollTop;
				    var speed = top / 4;
				    if (document.body.scrollTop!=0) {
				        document.body.scrollTop -= speed;
				    }else {
				        document.documentElement.scrollTop -= speed;
				    }
				    if (top == 0) {
				        clearInterval(scrollToptimer);
				    }
				}, 30); 
           }else if(isChrome()){
            	$('html').animate({ scrollTop: 0 }, 500)
            }else{
            	scrollToptimer = setInterval(function () {
				    var top = document.body.scrollTop || document.documentElement.scrollTop;
				    var speed = top / 4;
				    if (document.body.scrollTop!=0) {
				        document.body.scrollTop -= speed;
				    }else {
				        document.documentElement.scrollTop -= speed;
				    }
				    if (top == 0) {
				        clearInterval(scrollToptimer);
				    }
				}, 30); 
            }
		 
	})
	
  function isChrome(){
        var ua = navigator.userAgent.toLowerCase();
        return ua.indexOf("chrome") > 1;
  }
  
  //测试mime
  function _mime(option, value) {
    var mimeTypes = navigator.mimeTypes;
    for (var mt in mimeTypes) {
        if (mimeTypes[mt][option] == value) {
            return true;
        }
    }
    return false;
  }
	
  //页面加载
  $(".fh5co-loader").fadeOut("slow");
	
 //页面特效
  contentWayPoint();

})


window.onload=function(){

//	第二种图片轮播：无缝轮播
//  这种无缝轮播可以通过设置animate动画播放速度值和setInterval中的函数调用时间间隔实现间隔无缝轮播
var top="";
var width="";
	if(window.screen.width>=768){//pc
		//此处很关键，在实现无疑轮播时这个宽度一定要比显示图片数量+1的宽度宽
		$("#slider").height($("#slider>div").length*480*2+"px");
		$("#workspace").width($("#workspace>div").length*360*2+"px");
		$("#workspace>div").width("320px").height("260px");
		top="-480px";//向上移动的像素
		left="-360px";//向左移动的像素
	}else{//mobile
		$("#slider").height($("#slider>div").length*200*2+"px");
		$("#workspace").width($("#workspace>div").length*window.screen.width*2+"px");
		$("#workspace>div").width(window.screen.width+"px").height("200px");
		top="-200px";//向上移动的像素
		left="-"+window.screen.width+"px";//向左移动的像素
	}
    function rollTwo(){
        $("#slider").animate({marginTop:top},500,"linear",function(){
            $("#slider").css({marginTop:"0px"});
            $("#slider div:first").remove().clone(true).appendTo("#slider");
        })
        $("#workspace").animate({marginLeft:left},1000,"linear",function(){
            $("#workspace").css({marginLeft:"0px"});
            $("#workspace div:first").remove().clone(true).appendTo("#workspace");
        })
    }
    var startRollTwo=setInterval(rollTwo,4000);
//      鼠标移入停止移出继续
    $("#slider,#workspace").hover(function(){
        clearInterval(startRollTwo);
    },function(){
        startRollTwo=setInterval(rollTwo,4000);
    });
    }


//页面特效
var contentWayPoint = function() {
	var i = 0;
	$('.animate-box').waypoint( function( direction ) {

		if( direction === 'down' && !$(this.element).hasClass('animated-fast') ) {
			
			i++;

			$(this.element).addClass('item-animate');
			setTimeout(function(){

				$('body .animate-box.item-animate').each(function(k){
					var el = $(this);
					setTimeout( function () {
						
						if ( el.hasClass('faded')) {
							el.addClass('fadeInUp animated-fast');
						} 

						el.removeClass('item-animate');
					},  k * 100, 'easeInOutExpo' );
				});
				
			}, 50);
		}
} , { offset: '85%' } );
};
	




//中英文切换

$(function(){ 
      // do something 
    var script=document.createElement("script");  
    script.type="text/javascript";  
    script.src="http://www.microsoftTranslator.com/ajax/v3/WidgetV3.ashx?siteData=ueOIGRSKkd965FeEGM5JtQ**";  
    script.type="text/javascript";
    document.getElementsByTagName('head')[0].appendChild(script);  


    var value = sessionStorage.getItem("language");
    document.onreadystatechange = function () {
        if (document.readyState == 'complete') {
            if(value==="1"){
                Microsoft.Translator.Widget.Translate('zh-CHS', 'en', onProgress, onError, onComplete, onRestoreOriginal, 2000);
            }
        }
    }
    function onProgress(value) {
    }
    function onError(error) {
    }
    function onComplete() {
        $("#WidgetFloaterPanels").hide();
    }
    function onRestoreOriginal() { 
    }
});

function translated(){
    var value = sessionStorage.getItem("language");
    if(value==="1"){
        sessionStorage.setItem("language", "0"); 
    }else{
        sessionStorage.setItem("language", "1");
    }
    window.location.reload();//刷新当前页面.
}



